@using System.Diagnostics.Metrics;
@model List<Hotel>

@{
    ViewData["Title"] = "Home Page";
}

@section Styles{
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

}

@section sitehero{
    <div class="container">
        <div class="row site-hero-inner justify-content-center align-items-center">
            <div class="col-md-10 justify-content-start mt-5">
                <h1 class="subtitles1">Find your next stay</h1>
                <h5 class="subtitles2">
                    Search deals on hotels, homes, and much more...
                </h5>
            </div>
        </div>
    </div>
}

@section Body{
    <!-- search bar -->
    <section class="section  pb-0">
        <div class="container">
            <div class="row check-availabilty" id="next">
                <div class="block-32" data-aos="fade-up" data-aos-offset="-200">
                    <form action="#">
                        <div class="row rowdiv"
                             style="
                  border: 5px solid rgb(246, 182, 7);
                  background-color: rgb(246, 182, 7);
                  border-radius: 5px 5px;
                ">
                            <div class="col-md-6 mb-md-0 col-lg-2">
                                <div class="field-icon-wrap">
                                    <div class="icon">
                                        <span class="ion-ios-arrow-down"></span>
                                    </div>
                                    <select name="" id="adults" class="form-control">
                                        <option value="0">Where are you going?</option>
                                        <option value="">Alexandria</option>
                                        <option value="">Sharm El-shiekh</option>
                                        <option value="">Hurghada</option>
                                        <option value="">Cairo</option>
                                        <option value="">Ain Sokhna</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-6 mb-lg-0 col-lg-2">
                                <div class="field-icon-wrap">
                                    <div class="icon"><span class="icon-calendar"></span></div>
                                    <input type="text"
                                           id="checkin_date"
                                           class="form-control"
                                           placeholder="check in" />
                                </div>
                            </div>

                            <div class="col-md-6 mb-lg-0 col-lg-2">
                                <div class="field-icon-wrap">
                                    <div class="icon"><span class="icon-calendar"></span></div>
                                    <input type="text"
                                           id="checkout_date"
                                           class="form-control"
                                           placeholder="check out" />
                                </div>
                            </div>

                            <div class="col-md-6 mb-lg-0 col-lg-2">
                                <div class="field-icon-wrap">
                                    <div class="icon"><span class="icon-calendar"></span></div>
                                    <select name="" id="adults" class="form-control">
                                        <option value="0">Adults</option>
                                        <option value="">1</option>
                                        <option value="">2</option>
                                        <option value="">3</option>
                                        <option value="">4</option>
                                        <option value="">5</option>
                                        <option value="">6</option>
                                        <option value="">7</option>
                                        <option value="">8</option>
                                        <option value="">9</option>
                                        <option value="">10</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-6 mb-lg-0 col-lg-2">
                                <div class="field-icon-wrap">
                                    <div class="icon"><span class="icon-calendar"></span></div>
                                    <select name="" id="children" class="form-control">
                                        <option value="0">Children</option>
                                        <option value="">1</option>
                                        <option value="">2</option>
                                        <option value="">3</option>
                                        <option value="">4</option>
                                        <option value="">5</option>
                                        <option value="">6</option>
                                        <option value="">7</option>
                                        <option value="">8</option>
                                        <option value="">9</option>
                                        <option value="">10</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-6 col-lg-2 align-self-end">
                                <button class="btn btn-block text-white btnform1">
                                    Search
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- end search bar -->
}
<!-- start section  {slider} -->

  
<div id="carouselExampleIndicators" class="carousel slide slider " style="margin-left:-15px; height:390px" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>

    </ol>
    <div class="carousel-inner ">
        <div class="carousel-item active">
            <img class="d-block w-100 " src="~/Images/hotel1.jpg" alt="First slide">
        </div>
        <div class="carousel-item">
            <img class="d-block w-100 " src="~/Images/hotel3.jpg" alt="Second slide">
        </div>
        <div class="carousel-item">
            <img class="d-block w-100 " src="~/Images/hotel4.jpg" alt="Third slide">
        </div>
        <div class="carousel-item">
            <img class="d-block w-100 " src="~/Images/hotel2.jpg" alt="Third slide">
        </div>
        <div class="carousel-item">
            <img class="d-block w-100 " src="~/Images/hotel5.jpg" alt="Third slide">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<!-- end section  {slider} -->





<!-- start section 1 {cites} -->
<div class="row " >
    <div class="col-sm-10 col-lg-6 my-2 homeCity">
        <div style="overflow:hidden;height:18rem;">
            <h3 class="img-label">Cairo</h3>
            <img src="~/Images/Rooms/egypt.png" class="tag-label" />
            <a asp-controller="Hotel" asp-action="hotelsCity" asp-route-city="Cairo">
                <img src="/Images/Rooms/cairo.jpg" class="img-fluid imgBorder" style="height:100%;width:100%;object-fit:cover;" />
            </a>
        </div>
    </div>
    <div class="col-sm-10 col-lg-6 rounded-2 my-2 homeCity">
        <div style="overflow:hidden;height:18rem;">
            <h3 class="img-label">Hurghada</h3>
            <img src="~/Images/Rooms/egypt.png" class="tag2-label" />
            <a asp-controller="Hotel" asp-action="hotelsCity" asp-route-city="Hurghada">
                <img src="/Images/Rooms/hurghada.jpg" class="img-fluid imgBorder" style="height:100%;width:100%;object-fit:cover;" />
            </a>
        </div>
    </div>
</div>

<div class="row ">
    <div class="col-sm-10 col-lg-4 my-2 homeCity">
        <div style="overflow:hidden;height:18rem;">
            <h3 class="img-label">Alexandria</h3>
            <img src="~/Images/Rooms/egypt.png" class="tag3-label" />
            <a asp-controller="Hotel" asp-action="hotelsCity" asp-route-city="Alexandria">
                <img src="/Images/Rooms/alex.jpg" class="img-fluid imgBorder" style="height:100%;width:100%;object-fit:cover;" />
            </a>
        </div>
    </div>
    <div class="col-sm-10 col-lg-4 rounded-2 my-2 homeCity">
        <div style="overflow:hidden;height:18rem;">
            <h3 class="img-label">Makkah</h3>
            <img src="~/Images/Rooms/makkahflag.png" class="tag4-label" />
            <a asp-controller="Hotel" asp-action="hotelsCity" asp-route-city="Makkah">
                <img src="/Images/Rooms/makkah.jpg" class="img-fluid imgBorder" style="height:100%;width:100%;object-fit:cover;" />
            </a>
        </div>
    </div>

    <div class="col-sm-10 col-lg-4 rounded-2 my-2 homeCity">
        <div style="overflow:hidden;height:18rem;">
            <h3 class="img-label">Sharm El Sheikh</h3>
            <img src="~/Images/Rooms/egypt.png" class="tag5-label" />
            <a asp-controller="Hotel" asp-action="hotelsCity" asp-route-city="Sharm El Sheikh">
                <img src="/Images/Rooms/sharm.jpg" class="img-fluid imgBorder" style="height:100%;width:100%;object-fit:cover;" />
            </a>
        </div>
    </div>
</div>

<!-- End section 1 {cites} -->
<!-- start section 2 {hotels} -->

<h3 class="mb-3" style="margin-top:2rem;">
    Exploer Our Hotels

</h3>
<ul class="items">
    @foreach (var hotel in Model)
    {


        <li class="item">
            <div class="card-slider row">
                <div class=" cardsm">
                    <div class="card-body" style="padding: 0 !important">
                        <!-- Slider -->
                        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators">
                                <li data-target="#carouselExampleIndicators" data-slide-to="1" class="active"></li>
                                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                                <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                            </ol>
                            <div class="carousel-inner">
                                @for (int i = 0; i < hotel.image_Hotels.Count; i++)
                                {
                                    <div class="carousel-item @(i == 0 ? "active" : "")">
                                        <img src="@hotel.image_Hotels[i].ImageURL" width="150px" height="150px" style="border-radius: 8px 8px;">
                                    </div>
                                }
                            </div>

                        </div>
                        <div class="content-below-images">
                            <a asp-controller="home" asp-action="Rooms" asp-route-id="@hotel.Id" style="color: #003b95;  font-size:.75rem;">
                                @hotel.Name
                            </a>
                            <div class="rating" style="margin-left: 10px !important;">
                                @{
                                    int wholeStars = (int)Math.Floor(hotel.StarRateing);
                                    int remainingStars = 5 - wholeStars;
                                    double fractionalPart = (double)hotel.StarRateing - wholeStars;

                                    for (int i = 1; i <= wholeStars; i++)
                                    {
                                        <span class="fa fa-star" style="color: rgb(246, 182, 7)"></span>
                                    }

                                    if (fractionalPart >= 0.5)
                                    {
                                        <span class="fa fa-star" style="color: rgb(246, 182, 7)"></span>
                                        remainingStars--;
                                    }

                                    for (int i = 0; i < remainingStars; i++)
                                    {
                                        <span class="fa fa-star star-gray"></span>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </li>


    }
</ul>
<!-- end section 2 {hotels} -->

<!-- start section 2{hotels} scripts -->

@* <script>
    var currentPosition = 0;
    var cardSlider = document.querySelector('.card-slider');

    function moveSlider(direction) {
        currentPosition += direction;
        if (currentPosition < 0) currentPosition = 0;
        if (currentPosition > @Model.Count - 3) currentPosition = @Model.Count - 3;
        var translateX = currentPosition * -33.33;
        cardSlider.style.transform = `translateX(${translateX}%)`;
    }
</script> *@

<script>
    const slider = document.querySelector('.items');
    let isDown = false;
    let startX;
    let scrollLeft;

    const end = () => {
        isDown = false;
        slider.classList.remove('active');
    }

    const start = (e) => {
        isDown = true;
        slider.classList.add('active');
        startX = e.pageX || e.touches[0].pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
    }

    const move = (e) => {
        if (!isDown) return;

        e.preventDefault();
        const x = e.pageX || e.touches[0].pageX - slider.offsetLeft;
        const dist = (x - startX);
        slider.scrollLeft = scrollLeft - dist;
    }

    (() => {
        slider.addEventListener('mousedown', start);
        slider.addEventListener('touchstart', start);

        slider.addEventListener('mousemove', move);
        slider.addEventListener('touchmove', move);

        slider.addEventListener('mouseleave', end);
        slider.addEventListener('mouseup', end);
        slider.addEventListener('touchend', end);
    })();
</script>


   


